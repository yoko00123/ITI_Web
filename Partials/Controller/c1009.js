'use strict';define(['app'],function(app){var c1009=function($c,s,r,d,u,S,g,SS,ck){$c('BaseFormController',{$scope:s,resources:r});s.mID=1009;s.rID=S.params.ID_1009;s.goBack=function(){s.goPrevious('1008');};s.$watch('Master.ID_UnificationClients', function(nv,ov){if(nv !== null){d.ReloadLookup(s.mID,10298, s.Master ).then(function(result){s.lookup_source[10299] = [];angular.forEach(result.data, function (item) {s.lookup_source[10299].push(item);});if(result.data.length == 1){s.Master[result.data[0].ColumnName] = result.data[0].ID;s.Master[result.data[0].ColumnName.substring(3, result.data[0].ColumnName.length)] = result.data[0].Name;}});if (nv == undefined || nv == null) {s.Master.ID_UnificationClients = null;s.Master.UnificationClients = null;} else {var obj = s.lookup_source[10298].filter(function (x) { return x.ID == nv });s.Master.ID_UnificationClients = obj[0]['ID'];s.Master.UnificationClients = obj[0]['Name'];}}});s.$watch('Master.ID_UnificationProjects', function(nv,ov){if(nv !== null){d.ReloadLookup(s.mID,10299, s.Master ).then(function(result){s.lookup_source[10300] = [];angular.forEach(result.data, function (item) {s.lookup_source[10300].push(item);});if(result.data.length == 1){s.Master[result.data[0].ColumnName] = result.data[0].ID;s.Master[result.data[0].ColumnName.substring(3, result.data[0].ColumnName.length)] = result.data[0].Name;}});if (nv == undefined || nv == null) {s.Master.ID_UnificationProjects = null;s.Master.UnificationProjects = null;} else {var obj = s.lookup_source[10299].filter(function (x) { return x.ID == nv });s.Master.ID_UnificationProjects = obj[0]['ID'];s.Master.UnificationProjects = obj[0]['Name'];}}});s.$watch('Master.ID_UnificationBranch', function(nv,ov){if(nv !== null){if (nv == undefined || nv == null) {s.Master.ID_UnificationBranch = null;s.Master.UnificationBranch = null;} else {var obj = s.lookup_source[10300].filter(function (x) { return x.ID == nv });s.Master.ID_UnificationBranch = obj[0]['ID'];s.Master.UnificationBranch = obj[0]['Name'];}}});s.$watch('Master.ID_UnificationClients', function(nv, ov) {if (nv == null || nv == undefined){s.Master.ID_UnificationProjects = null;s.Master.UnificationProjects = null;s.Master.ID_UnificationBranch = null;s.Master.UnificationBranch = null;}});s.$watch('Master.ID_UnificationProjects', function(nv, ov) {if (nv == null || nv == undefined){s.Master.ID_UnificationBranch = null;s.Master.UnificationBranch = null;}});s.gridOptions={5028:{data:'Detail[5028]',enableSorting:true,columnDefs:[{field:'ID',width:'*',displayName:'ID'},{field:'Name',width:'*',displayName:'File',cellTemplate:'<div class=\'smart-form input-group\' style=\'width:100%\' ng-form name=\'x\' ng-class="{ \'has-error\' : x.Name.$invalid && appScope.mainform.$submitted }" ><label for=\'file\' class=\'input input-file\'><div class=\'button\' ng-if=\'row.entity.Name == null\'><input type=\'file\' name=\'Name\'  required file-input ng-file-select=\'appScope.onFileSelect($files,5028,"Name",row.$$rowIndex)\'ng-model=\'row.entity.Name\'/>Browse</div><input type=\'text\' ng-model=\'row.entity.Name\' placeholder=\'Select files...\' readonly></label><span class=\'input-group-addon\' ng-if=\'row.entity.ID > 0 && row.entity.Name !== null\' download-file=\'{{row.entity.Name_GUID}}\' filename=\'{{row.entity.Name}}\'><i class=\'fa fa-download\'></i></span></div>'},{field:'$delete',width:20,sortable:false,resizable:false,displayName:' ',cellTemplate:'<div class=\'ngCellText row-del\'><span><a class=\'row-delete\' ng-click=\'appScope.removeRow(5028,row,"Are you sure?")\'  ng-show=\'appScope.Master.IsPosted == false && (appScope.Master.ID_FilingStatus == 1 || appScope.Master.ID_FilingStatus == 4)\'  ><i class=\'fa fa-times\'></i></a></span></div>'},],},};};app.register.controller('c1009',['$controller','$scope','resources','dataService','utilService','$state','growlNotifications','Session','ckFormPristine',c1009]);});